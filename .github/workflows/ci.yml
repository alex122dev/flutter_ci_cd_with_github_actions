name: CI
on: 
  pull_request:
    branches: [ main ]

jobs:
  # Run_flutter_test_and_analyze:
  #   name: Run flutter test and analyze
  #   runs-on: ubuntu-latest
    
  #   steps:
  #   - name: Checkout repository
  #     uses: actions/checkout@v3

  #   - name: Set up Flutter
  #     uses: subosito/flutter-action@v2
  #     with:
  #       channel: 'stable'
  #       # flutter-version: ${{ env.FLUTTER_VERSION }} # you can also specify exact version of flutter

  #   - name: Get pub dependencies
  #     run: flutter pub get

  #   - name: Flutter analyze
  #     run: flutter analyze

  #   - name: Flutter test
  #     run: flutter test



  # build_ios:
  #   name: Build Flutter (iOS)
  #   runs-on: macos-latest

  #   steps:
  #     - name: Checkout repository
  #       uses: actions/checkout@v3

  #     - name: Set up Flutter
  #       uses: subosito/flutter-action@v2
  #       with:
  #         channel: 'stable'

  #     # - name: Get pub dependencies
  #     #   run: flutter pub get
  #     # - run: flutter clean
  #     - name: Build IOS App
  #       run: flutter build ios --release --no-codesign


  build_appbundle:
    name: Build Flutter (Android)
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
      - name: Set up Flutter
        uses: subosito/flutter-action@v2
        with:
          channel: 'stable'
      - name: Build Android App
        run: flutter build appbundle